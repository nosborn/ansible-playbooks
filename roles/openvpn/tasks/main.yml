# roles/openvpn/tasks/main
---
- include_vars: vault.yml
  no_log: true

- name: install package
  openbsd_pkg: name=openvpn state=present

- file:
    dest={{ item }} state=directory
    owner=root group=wheel mode=0750
  with_items:
    - /etc/openvpn
    - /usr/local/libexec/openvpn
    - /var/openvpn

- include_tasks: client.yml
  when: vpn_client_if is defined

- include_tasks: server.yml
  when: vpn_server_if is defined
...
